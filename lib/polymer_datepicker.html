
<dom-module id="date-picker-overlay">
    <template>
        <div>
            <content></content>
        </div>
    </template>
</dom-module>

<dom-module id="date-picker">
  <style>
      [layout] {
        @apply(--layout);
        }
    [layout][vertical] {
      @apply(--layout-vertical);
    }
    [relative] {
      position: relative;
    }
    [layout][horizontal] {
      @apply(--layout-horizontal);
    }
    [layout][center] {
      @apply(--layout-center);
    }
    [layout][justified] {
      @apply(--layout-justified);
    }
  </style>
  <style>
      :host {
        display:inline-block;
        
      }
  
      .day {
      }
      .dayOther {
        
        color:#e6e6e6;
          @apply(--polymer-datepicker-day-other);
      }
      .daySelected {
        background-color:yellow;
        color:black;
        font-weight:bold;
          @apply(--polymer-datepicker-day-selected);
      }

      .dayToday {
          outline: 3px solid darkred;
          outline-offset: -2px;
          z-index: 2;
          @apply(--polymer-datepicker-today);
      }
      
      .weekCol {
        
      }
      
      .dayCell {
        max-width:20px;
        max-height:20px;
        width:20px;
        height:20px;
        padding:2px;
        border-left:1px solid #e6e6e6;
        border-top:1px solid #e6e6e6;
        @apply(--polymer-datepicker-daycell);
      }
      
      .monthCell {
        border-right: 1px solid #e6e6e6;
        border-bottom: 1px solid #e6e6e6;

          font-size:x-small;
          background-color: white;
          @apply(--polymer-datepicker-monthcell);
      }
      
      #header {
        border-right: 1px solid #e6e6e6;
        border-top: 1px solid #e6e6e6;
        border-left: 1px solid #e6e6e6;
          @apply(--polymer-datepicker-header);
      }
      
      .input_dateonly {
        /*width: 6em;*/
        width: var(--datepicker-width,6em) ;
      }

      .input_full {
          width: var(--datepicker-width,12em) ;
      }
      

      
      #picker {
          position: absolute;
          z-index: 100;
          overflow: visible;
          width:176px;
          height:auto;


      }

      .halign_left {
        left:0;
      }

      .halign_right {
        right:0;
      }

      .valign_top {
          top:0;
      }

      .valign_bottom {
          bottom:30px;
      }


      #pick {
          position: static;
      }

      #month {

      }
      
    </style>
  <template>
    <div layout="" vertical="" relative="">
        <div layout="" horizontal="">
          <paper-input disabled="[[disabled]]" id="input" on-click="showPicker" required="[[required]]" auto-validate="" value="{{textDate}}" label="[[label]]" on-blur="inputLeft" class$="[[computeInputClass(dateonly)]]"></paper-input>
        </div>
        <div style="position:relative">
            <date-picker-overlay id="pick" style="position:absolute;left:0;top:0" autofocusdisabled="true" autoclosedisabled="true" opened="{{pickerOpen}}" on-iron-overlay-opened="doPos" on-mousedown="cancelClose">
                <paper-material elevation="2">

                <div id="month" layout="" vertical="" class="monthCell">

                <div layout="" horizontal="" justified="" center="" id="header">
                  <paper-button style="min-width:0px" on-click="prevMonth"><iron-icon icon="arrow-back" style="width:20px;height:20px"></iron-icon></paper-button>
                  <div>[[monthYear]]</div>
                  <paper-button style="min-width:0px" on-click="nextMonth"><iron-icon icon="arrow-forward" style="width:20px;height:20px"></iron-icon></paper-button>
                </div>
                <div layout="" horizontal="">
                    <!--
                  <div class="dayCell"><div class="weekCol"></div></div>
                  -->
                  <template is="dom-repeat" items="[[firstWeek.days]]" as="day">
                    <div class="dayCell"><div class="weekCol">{{day.weekDay}}</div></div>
                  </template>
                </div>
                <template is="dom-repeat" items="[[month]]" as="week">
                  <div layout="" horizontal="">
                      <!--
                    <div class="dayCell weekCol"></div>
                    -->
                    <template is="dom-repeat" items="[[week.days]]" as="day">
                      <div relative="" on-click="selDate" class$="[[computeDayClass(day.selected,day.other,day.today)]]" data-time$="[[computeMillisecondsSinceEpoch(day)]]">
                       <span>[[computeDay(day)]]</span>
                      </div>
                    </template>
                  </div>
                </template>
              </div>

                </paper-material>
            </date-picker-overlay>

        </div>
    </div>

  </template>
</dom-module>